<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Atom Activity Extensions (Draft)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Atom Activity Extensions (Draft)">
<meta name="generator" content="xml2rfc v1.33 (http://xml.resource.org/)">
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: small; color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: small; font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: small; font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: small; text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">M. Atkins</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">D. Recordon</td></tr>
<tr><td class="header">Intended status: Experimental</td><td class="header">Six Apart</td></tr>
<tr><td class="header">Expires: May 24, 2010</td><td class="header">C. Messina</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Diso Project</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Keller</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">MySpace</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">A. Steinberg</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Facebook</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Dolin</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 20, 2009</td></tr>
</table></td></tr></table>
<h1><br />Atom Activity Extensions (Draft)<br />atomactivity-00</h1>

<h3>Status of this Memo</h3>
<p>
This document is an Internet-Draft and is
NOT offered in accordance with Section&nbsp;10 of RFC&nbsp;2026,
and the author does not provide the IETF with any rights other
than to publish as an Internet-Draft.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 24, 2010.</p>

<h3>Abstract</h3>

<p>This document presents an extension that allows activities on social
      objects to be expressed within the Atom Syndication Format.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>, &ldquo;RFC 2119,&rdquo; .</span><span>)</span></a> [RFC2119].
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Notational Conventions<br />
<a href="#anchor3">3.</a>&nbsp;
Activity Concepts<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
Verbs and Object Types<br />
<a href="#activityentries">4.</a>&nbsp;
Activity Entries<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#titlesummarydetail">4.1.</a>&nbsp;
Activity Title, Summary and Detail<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.2.</a>&nbsp;
Time of the Activity<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.3.</a>&nbsp;
Activity Link<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#activityverbelement">4.4.</a>&nbsp;
Activity Verb<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#activityobjectelement">4.5.</a>&nbsp;
Activity Object<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.6.</a>&nbsp;
Activity Target<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#activityactor">4.7.</a>&nbsp;
Activity Actor<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.8.</a>&nbsp;
Activity Context<br />
<a href="#objectentries">5.</a>&nbsp;
Object Entries<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#objecttypeelement">5.1.</a>&nbsp;
The activity:object-type Extension Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.2.</a>&nbsp;
The activity:verb Extension Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#impliedpost">5.3.</a>&nbsp;
Implied Activity<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rss">5.4.</a>&nbsp;
Object Entries in RSS<br />
<a href="#anchor10">6.</a>&nbsp;
Activity Feeds<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#activitysubject">6.1.</a>&nbsp;
Feed Subject<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">6.1.1.</a>&nbsp;
Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">6.2.</a>&nbsp;
A Note about Legacy Feeds<br />
<a href="#postverb">7.</a>&nbsp;
The 'post' Verb<br />
<a href="#anchor13">8.</a>&nbsp;
Requirements for Activity Re-publishers<br />
<a href="#anchor14">9.</a>&nbsp;
Security Considerations<br />
<a href="#anchor15">10.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">11.</a>&nbsp;
Normative References<br />
<a href="#anchor17">Appendix&nbsp;A.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor18">Appendix&nbsp;B.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#activityentryexample">B.1.</a>&nbsp;
Activity Entry Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#objectentryexample">B.2.</a>&nbsp;
Object Entry Example<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This document presents an extension that allows activities on social
      objects to be expressed within <a class='info' href='#RFC4287'>the Atom
      Syndication Format<span> (</span><span class='info'>, &ldquo;The Atom Syndication Format,&rdquo; .</span><span>)</span></a> [RFC4287].
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Notational Conventions</h3>

<p>The XML Namespaces URI [W3C.REC-xml-names-19990114] for the XML
      elements and attributes described in this specification is: <tt>http://activitystrea.ms/spec/1.0/</tt>.
</p>
<p>In this document, this namespace is referred to as "the AtomActivity
      namespace", and the namespace prefix "activity:" is used for the above
      namespace URI. The namespace prefix "atom:" is used for the namespace
      URI <tt>http://www.w3.org/2005/Atom</tt>. The choices
      of namespace prefix are arbitrary and not semantically significant.
</p>
<p>This specification uses a shorthand form of terms from the XML
      Infoset [W3C.REC-xml-infoset-20040204]. The phrase "Information Item" is
      omitted when naming element and attribute information items. Therefore,
      when this specification uses the term "element," it is referring to an
      element information item in infoset terms. Likewise, when this
      specification uses the term "attribute," it is referring to an attribute
      information item.
</p>
<p>This specification allows the use of IRIs [RFC3987]. Every URI
      [RFC3986] is also an IRI, so a URI may be used wherever an IRI is named.
      When an IRI that is not also a URI is given for dereferencing, it MUST
      be mapped to a URI using the steps in Section 3.1 of [RFC3987]. When an
      IRI is serving as an identifier, it MUST NOT be so mapped.
</p>
<p>Some sections of this specification are illustrated with a
      non-normative RELAX NG Compact schema [RELAXNG]. In those sections, this
      specification uses the atomCommonAttributes, atomMediaType, and atomURI
      patterns, defined in [RFC4287].
</p>
<p>The text of this specification provides the sole definition of
      conformance.
</p>
<p>This specification uses "the Atom specification" to refer to <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>, &ldquo;The Atom Syndication Format,&rdquo; .</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Activity Concepts</h3>

<p>For the purpose of this specification, an activity is a description
      of an action that was performed (the verb) at some instant in time by
      some actor (the actor, as described in <a class='info' href='#activityactor'>Section&nbsp;4.7<span> (</span><span class='info'>Activity Actor</span><span>)</span></a> ), usually on some social object (the
      object). An activity feed is a feed of such activities.
</p>
<p>An activity may also have an indirect object. The indirect object is
      considered for the purposes of this specification to be a modifier of
      the activity and does not exist as a first-class object.
</p>
<p>It is expected that in many cases consumers of activity feeds will
      use them to turn machine readable descriptions of activities into
      human-readable sentences such as "Joanne posted a Photo: 'My Cat'". The
      process for forming such sentences is not defined by this
      specification.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Verbs and Object Types</h3>

<p>Verbs and object types are identified by IRIs (verb and object
        identifiers) as defined by <a class='info' href='#RFC3987'>[RFC3987]<span> (</span><span class='info'>, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; .</span><span>)</span></a> though these
        IRIs MAY not resolve to any useful resource. One verb is defined by
        this specification in <a class='info' href='#postverb'>Section&nbsp;7<span> (</span><span class='info'>The 'post' Verb</span><span>)</span></a>.
</p>
<p>Other specifications MAY define further verb and object types with
        corresponding IRIs. Such specifications MUST define the meaning of
        these verb and object identifiers, and SHOULD also describe how any
        additional properties of the verb or object type are to be encoded in
        an Atom entry.
</p>
<p>Verbs and object types MAY derive from other verbs and object
        types. In this case the atom:entry should list of all the parent verbs
        and the activity:object will should list of all the parent object
        types. The properties required by the parents will also be required by
        the derived types. For example, If we have an object type named photo
        which derives from an object type named image and image has a required
        property containing the URL of a thumbnail version of the image then
        this is also a required property for photo. This allows activity
        consumers to have a fallback behavior when new object types or verbs
        are introduced.
</p>
<a name="activityentries"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Activity Entries</h3>

<p>An activity entry is an entry element as described by the Atom
      specification that represents an activity. The actor of the activity
      entry is the author of the entry. The verbs and object of the activity
      are identified explicitly in the Activity entry as described in the
      following sections. An Atom entry is considered to be an activity entry
      if and only if it has at least one <tt>activity:verb</tt>
      child element and one or more <tt>activity:object</tt>
      child elements as described in the following sections.
</p>
<a name="titlesummarydetail"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Activity Title, Summary and Detail</h3>

<p>In an activity entry, the <tt>atom:title</tt>,
        <tt>atom:summary</tt> and <tt>atom:content</tt>
        elements as described by <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>, &ldquo;The Atom Syndication Format,&rdquo; .</span><span>)</span></a> MUST contain a
        human-readable description of the activity. This text will be used by
        general Atom processors that do not understand this extension. This
        text MAY also be used by feed processors that do not recognize the
        verb. Any other non-activity elements may be used in an activity entry
        to effect a desired handling by non-activity processors.
</p>
<p>Feed producers MAY use information from outside sources to choose a
        suitable language to use for the activity description. For example, a
        feed producer responding to an HTTP request might use the HTTP
        Accept-Language header or a user preference otherwise determined to
        select a language. Feed producers SHOULD use <tt>xml:lang</tt>
        as described in <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>, &ldquo;The Atom Syndication Format,&rdquo; .</span><span>)</span></a> section 2 to identify
        the language used.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Time of the Activity</h3>

<p>The time at which an activity occurred is represented in the
        atom:published element within each activity entry. An activity entry
        MUST have exactly one atom:published element.
</p>
<p>The time stored herein is the time that the activity occurred,
        <em>not</em> the time that the associated activity object was
        published. Feed processors MAY use this element to sort a list of
        activity entries into chronological order.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Activity Link</h3>

<p>An activity entry SHOULD include an atom:link element with a link
        relationship of "alternate", a type of "text/html" and a href
        attribute containing the URL of an HTML-based representation of this
        activity or the associated object. Though this link does not have any
        special significance in this specification, general Atom processors
        that do not support the activity extensions will often present such a
        link to the user.
</p>
<a name="activityverbelement"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Activity Verb</h3>

<p>The verb is represented using the activity:verb Extension Element.
        All activity entries MUST have at least one activity:verb element.
</p>
<p>The content of the activity:verb element MUST be an object
        identifier (an IRI as defined by <a class='info' href='#RFC3987'>[RFC3987]<span> (</span><span class='info'>, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; .</span><span>)</span></a>). Note
        that the definition of IRI excludes relative references. Although the
        IRI MAY use a dereferencable scheme, processors must not assume that
        it can be dereferenced.
</p>
<p>The verb Identifier within this element defines the verb for this
        Activity. As described in section 5, a given activity entry MAY have
        more than one activity:verb element, which indicates that there are
        several verbs describing this activity. Where multiple verbs are used,
        all verbs MUST be generalizations or specializations of one another.
        For example, the general verb "to experience" might be specialized by
        a verb "to listen to".
</p>
<p>An activity feed processor SHOULD use the most specific verb it
        understands within each entry. If none of the activity's verbs are
        understood by the processor, the processor MAY use other information
        to infer the verb, or the processor MAY use the content of the
        atom:title, atom:summary and/or atom:content to obtain a sentence
        describing the activity.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;entry&gt;
&lt;id&gt;tag:versioncentral.example.org,2009:/commit/1643245&lt;/id&gt;
&lt;published&gt;2009-06-01T12:54:00Z&lt;/published&gt;
&lt;title&gt;Geraldine committed a change to yate&lt;/title&gt;
&lt;content type="xhtml"&gt;Geraldine just committed a change to yate on VersionCentral&lt;/content&gt;
&lt;link rel="alternate" type="text/html"
      href="http://versioncentral.example.org/geraldine/yate/commit/1643245" /&gt;
&lt;activity:verb&gt;http://activitystrea.ms/schema/1.0/post&lt;/activity:verb&gt;
&lt;activity:verb&gt;http://www.github.org/schema/1.0/commit&lt;/activity:verb&gt;
&lt;activity:object&gt;
  &lt;activity:object-type&gt;http://activitystrea.ms/schema/1.0/changeset&lt;/activity:object-type&gt;
  &lt;id&gt;tag:versioncentral.example.org,2009:/change/1643245&lt;/id&gt;
  &lt;title&gt;Punctuation Changeset&lt;/title&gt;
  &lt;summary&gt;Fixing punctuation because it makes it more readable.&lt;/summary&gt;
  &lt;link rel="alternate" type="text/html" href="..." /&gt;
&lt;/activity:object&gt;
&lt;/entry&gt;</pre></div>
<p>Example: To syndicate changes made to a source code
          repository we need a way of conveying the creation of a change. This
          can be considered a specialization of the Post verb. Since, in this
          example, commit is not a verb found in the main schema
          specification, activity entries carrying this verb should also
          include the general post verb.
</p>
<a name="activityobjectelement"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Activity Object</h3>

<p>The object is represented using the activity:object extension
        element. The activity:object element contains information about the
        main object of the activity. All activity entries MUST have one or
        more activity:object elements. The content model of activity:object is
        identical to that of atom:entry when used in an object entry as
        described in <a class='info' href='#objectentries'>Section&nbsp;5<span> (</span><span class='info'>Object Entries</span><span>)</span></a>.
</p>
<p>activity:object MUST contain exactly one atom:id element. If this
        object is also published in an object entry, the atom:id value MUST be
        the same as in the object entry.
</p>
<p>activity:object SHOULD contain exactly one atom:title element,
        which MAY be used by feed processors to identify the object to the
        user -- for example as the text of a link to the HTML representation
        of the object.
</p>
<p>activity:object SHOULD also contain exactly one atom:link element
        with a link relationship of "alternate" and the type "text/html", with
        the href attribute containing the URL of the HTML representation of
        the object if available.
</p>
<p>activity:object MAY also contain an atom:source element, as
        described by the Atom specification, describing the object feed where
        this object resides, if any. Processors MAY use this information to
        give context to the activity. For example, if the source feed has a
        title of "Claire's Weblog", a processor may include the text "in
        Claire's Weblog" at the end of a sentence describing the activity to
        the user.
</p>
<p>All other elements included in activity:object SHOULD reflect
        elements in the object entry for this Object, if one exists.
</p>
<p>An activity entry and its associated object entry MUST NOT share
        the same atom:id value.
</p>
<p>An activity entry with more than one activity:object element is
        considered, for the purposes of activity processing, to be equivalent
        in meaning to a sequence of activity entries each with a single
        activity:object and the same verb, actor, target and context. Activity
        processors SHOULD handle multi-object activities as distinct
        activities, though they MAY perform any coalescing of activities they
        deem appropriate when displaying activity data to users. Feed
        producers MUST NOT create coalesced activity entries except where the
        rules in this paragraph hold. Coalesced activity entries hold no
        special meaning to activity processors and are supported only for the
        benefit of non-activity feed consumers which are not capable of doing
        any automatic coalescing.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6"></a><h3>4.6.&nbsp;
Activity Target</h3>

<p>The activity:target element contains information about the target
        of the activity, for verbs that support a target. The target is the
        object that the action was done to. The content model of <tt>activity:target</tt> and the meaning of its child
        elements are identical to that of <tt>activity:object</tt>.
        The precise meaning of the target as relates to the activity depends
        on the verb in use, but its meaning is somewhat similar to the English
        preposition "to". The activity:target extension element MUST NOT be
        used for indirect objects that are not targets.
</p>
<p>In <a class='info' href='#activityentrycomplex'>Figure&nbsp;2</a> the target is a
        photo album to which photos were added.
</p>
<a name="activityactor"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.7"></a><h3>4.7.&nbsp;
Activity Actor</h3>

<p>The activity:actor element MAY be used to describe the object that
        performed the activity. This element, if present, MUST describe the
        same object as is described by the atom:author element. The content
        model and the meaning of its child elements are identical to that of
        <tt>activity:object</tt>. If the actor is not a
        person, the <tt>activity:actor</tt> element SHOULD
        be used to describe the actor.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.8"></a><h3>4.8.&nbsp;
Activity Context</h3>

<p>The activity:context element is a container for additional
        contextual information about an activity. This information will often
        be orthogonal to the verb and object type and supply additional
        information about the situation in which the activity was performed.
        For example, an activity entry could contain information about the
        actor's location at the time of the activity.
</p>
<a name="objectentries"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Object Entries</h3>

<p>An object entry is an entry element as described by the Atom
      specification that represents the object of an activity. Any entry that
      does not meet the criteria for being an activity entry as described in
      <a class='info' href='#activityentries'>Section&nbsp;4<span> (</span><span class='info'>Activity Entries</span><span>)</span></a> is considered an object entry by
      this specification. In particular, this means that valid Atom entries
      without any activity annotations are considered to be object entries by
      this specification.
</p>
<p>Object entries are intended to be used by feeds that describe the
      creation of content. In a valid object entry, all Atom elements SHOULD
      describe the object that was created or otherwise the object of an
      activity, rather than describing the activity itself.
</p>
<a name="objecttypeelement"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
The activity:object-type Extension Element</h3>

<p>TODO: this should appear after the description of the object
        element (<a class='info' href='#activityobjectelement'>Section&nbsp;4.5<span> (</span><span class='info'>Activity Object</span><span>)</span></a>).
</p>
<p>The content of the activity:object-type element MUST be an object
        identifier (an IRI as defined by <a class='info' href='#RFC3987'>[RFC3987]<span> (</span><span class='info'>, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; .</span><span>)</span></a>). The
        definition of IRI excludes relative references. Though the IRI MAY use
        a dereferenceable scheme, processors MUST not assume that it can be
        dereferenced.
</p>
<p>The object identifier within this element defines the type of the
        object described by this object entry. A given object entry MAY have
        more than one activity:object-type element, which indicates that this
        object has several types. Where multiple types are used, all types
        MUST be generalizations or specializations of one another. For
        example, the general type "web page" might be specialized by a type
        "weblog entry".
</p>
<p>An object entry SHOULD have at least one activity:object-type
        element.
</p>
<p>Activity feed processors SHOULD use the most specific object type
        that they understand within each entry. The processor MAY use other
        information to infer the object type if it cannot understand any of
        the object types given. If it cannot so infer the object type, a
        processor MUST act as though no activity:object-type element is
        present.
</p>
<p>If no activity:object-type element is present, the object has no
        defined type. Processors SHOULD refer to such objects only by their
        titles. For example, when forming an activity sentence a processor
        might say "Johan posted 'My Cat'" rather than "Johan posted a photo:
        'My Cat'".
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
The activity:verb Extension Element</h3>

<p>TODO: this should appear after the description of the verb element
        (<a class='info' href='#activityverbelement'>Section&nbsp;4.4<span> (</span><span class='info'>Activity Verb</span><span>)</span></a>).
</p>
<p>When appearing as a child of an object entry (that is, an entry
        that does not also have an activity:object child element), the content
        of the activity:verb element MUST be the verb type of the implied
        activity for the object entry, as defined in <a class='info' href='#impliedpost'>Section&nbsp;5.3<span> (</span><span class='info'>Implied Activity</span><span>)</span></a>. When used in this way, the content model
        is identical to when used in an activity entry as described in <a class='info' href='#activityverbelement'>Section&nbsp;4.4<span> (</span><span class='info'>Activity Verb</span><span>)</span></a>.
</p>
<a name="impliedpost"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Implied Activity</h3>

<p>When used alone, outside of the context of an explicit activity
        entry, an object entry has an implied activity. The implied activity
        entry for an object entry is constructed as follows:
</p>
<p></p>
<ol class="text">
<li>Create an empty atom:entry element. This is the activity entry
            element.
</li>
<li>If the object entry has as a child at least one activity:verb
            element, copy all such elements into the activity entry element.
            Otherwise, insert into the activity entry element a new
            activity:verb element containing the verb Identifier of the post
            verb as described in <a class='info' href='#postverb'>Section&nbsp;7<span> (</span><span class='info'>The 'post' Verb</span><span>)</span></a>.
</li>
<li>Copy the atom:published element from the object entry element
            into the activity entry element.
</li>
<li>Insert into the activity entry element a new activity:object
            element.
</li>
<li>Do a deep copy of all child elements of the object entry
            element into the activity:object element, excluding activity:verb
            and atom:published.
</li>
<li>If the activity entry has as a child an activity:verb element
            containing the verb Identifier of the post verb, copy the
            atom:published element from the object entry to the
            activity:object element.
</li>
</ol>

<p>Processors SHOULD generate suitable human-readable descriptions of
        the action and insert them as described in <a class='info' href='#titlesummarydetail'>Section&nbsp;4.1<span> (</span><span class='info'>Activity Title, Summary and Detail</span><span>)</span></a>.
</p>
<p>If the resulting entry will be published, processors SHOULD
        generate suitable values for all other elements that the Atom
        specification requires as children of atom:entry. In particular, an
        atom:id value SHOULD be generated; this value MUST NOT be the same as
        that of the object entry's atom:id.
</p>
<p>If the resulting entry is to be published, processors MAY omit
        elements from the generated activity:object element to reduce
        overhead. Such processors SHOULD bear in mind the requirements in
        <a class='info' href='#activityobjectelement'>Section&nbsp;4.5<span> (</span><span class='info'>Activity Object</span><span>)</span></a>.
</p>
<p>Processors expecting activity entries SHOULD apply the above
        transformation to any object entries they encounter in order to
        process them as activities, or at least act as if they have done
        so.
</p>
<p>Due to the way it is constructed, there is no way to represent
        additional properties for the verb(s) of an implied activity. If a
        particular verb requires additional properties then it MUST NOT be
        used in an implied activity.
</p>
<a name="rss"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Object Entries in RSS</h3>

<p>TODO: this "alternate representation" section should appear after
        the full description of the "normal" Atom representation.
</p>
<p>For compatibility with existing deployments, this specification
        also defines a subset of the activity markup that may be used in <a class='info' href='#RSS_2.0'>RSS 2.0<span> (</span><span class='info'>Klyne, G., &ldquo;Date and Time on the Internet: Timestamps,&rdquo; July&nbsp;2002.</span><span>)</span></a> [RSS_2.0] feeds to add verb and object type
        annotations to objects published in RSS rather than Atom feeds.
</p>
<p>Objects published as RSS 2.0 <tt>item</tt>
        elements MAY use the <tt>activity:verb</tt> and
        <tt>activity:object-type</tt> elements with
        equivalent content models and semantics as described above for their
        use in Atom object entries.
</p>
<p>Activity processors MUST use the following process to construct the
        implied activity for an object entry published as an RSS 2.0 <tt>item</tt> element, or MUST act as if they have done
        so:
</p>
<p></p>
<ol class="text">
<li>Create an empty atom:entry element. This is the activity entry
            element.
</li>
<li>If the object entry has as a child at least one activity:verb
            element, copy all such elements into the activity entry element.
            Otherwise, insert into the activity entry element a new
            activity:verb element containing the verb Identifier of the post
            verb as described in <a class='info' href='#postverb'>Section&nbsp;7<span> (</span><span class='info'>The 'post' Verb</span><span>)</span></a>.
</li>
<li>If the object entry has a RSS <tt>pubDate</tt>
            element as a child, parse its content as per the RSS 2.0
            specification to obtain a date and time value. Create an <tt>atom:published</tt> element whose content is the
            serialization of this data and time value as described in <a class='info' href='#RFC3339'>[RFC3339]<span> (</span><span class='info'>Klyne, G., &ldquo;Date and Time on the Internet: Timestamps,&rdquo; July&nbsp;2002.</span><span>)</span></a>, and insert this element into the
            activity entry element.
</li>
<li>Insert into the activity entry element a new <tt>activity:object</tt> element.
</li>
<li>If the object entry has as a child an RSS title element, create
            an atom:title element whose text content matches the text content
            of that element element and insert the new element into the <tt>activity:object</tt> element.
</li>
<li>If the object entry has as a child a <tt>content</tt>
            element in the namespace <tt>http://purl.org/rss/1.0/modules/content/</tt>,
            create an <tt>atom:content </tt>element whose
            text content matches the text content of that element and which
            has the attribute <tt>type</tt> with the value
            <tt>html</tt>. Otherwise, if the object entry
            has as a child an RSS <tt>description</tt>
            element, create an <tt>atom:content</tt>
            element whose text content matches the text content of that
            element and which has the attribute <tt>type</tt>
            with the value <tt>html</tt>. In both cases,
            insert the created <tt>atom:content</tt>
            element into the <tt>activity:object</tt>
            element.
</li>
<li>If the object entry a RSS <tt>link</tt>
            element as as a child, create an <tt>atom:link</tt>
            element with a <tt>href</tt> attribute whose
            value is the text content of the RSS <tt>link</tt>
            element, and with a <tt>type</tt> attribute
            whose value is <tt>text/html</tt>. Insert the
            <tt>atom:link</tt> element into the <tt>activity:object</tt> element.
</li>
<li>If the object entry has one or more RSS <tt>enclosure</tt>
            elements as children, create for each an <tt>atom:link</tt>
            element with a <tt>href</tt> attribute whose
            value is the text content of the <tt>enclosure</tt>
            element's <tt>url</tt> attribute, a <tt>rel</tt> attribute whose value is <tt>enclosure</tt>, a <tt>type</tt>
            attribute whose value is the text content of the <tt>enclosure</tt> element's <tt>type</tt>
            attribute, and a <tt>length</tt> attribute
            whose value is the text content of the <tt>enclosure</tt>
            element's <tt>length</tt> attribute. If any of
            these attributes are not present on the <tt>enclosure</tt>
            element, the equivalent attribute on the <tt>atom:link</tt>
            element MUST NOT be created. Insert the created <tt>atom:link</tt> elements into the <tt>activity:object</tt> element.
</li>
<li>If the object entry has a <em>descendent</em> one or more
            <tt>thumbnail</tt> elements in the namespace
            <tt>http://search.yahoo.com/mrss/</tt>, create
            for each an <tt>atom:link</tt> element with a
            <tt>href</tt> attribute whose value is the text
            content of the <tt>thumbnail</tt> element's url
            attribute, a <tt>rel</tt> attribute whose value
            is <tt>preview</tt>, a <tt>width</tt>
            attribute in the namespace <tt>http://purl.org/syndication/atommedia</tt>
            whose value is the text content of the <tt>thumbnail</tt>
            element's <tt>width</tt> attribute, and a
            <tt>height</tt> attribute in the namespace
            <tt>http://purl.org/syndication/atommedia</tt>
            whose value is the text content of the <tt>thumbnail</tt>
            element's <tt>height</tt> attribute. If any of
            these attributes are not present on the <tt>thumbnail</tt>
            element, the equivalent attribute on the <tt>atom:link</tt>
            element MUST NOT be created. Insert the created <tt>atom:link</tt> elements into the <tt>activity:object</tt> element.
</li>
<li>If the object entry has as a child an RSS <tt>guid</tt>
            element, create an <tt>atom:id</tt> element
            whose text content matches the text content of that element. If
            the <tt>guid</tt> element has an attribute
            <tt>isPermaLink</tt> with the value <tt>true</tt>, additionally create an <tt>atom:link</tt> element with a <tt>href</tt>
            attribute containing the text content of the <tt>guid</tt>
            element and a type attribute whose value is <tt>text/html</tt>.
            In both cases, insert the created element into the <tt>activity:object</tt> element.
</li>
<li>If the activity entry has as a child an <tt>activity:verb</tt>
            element containing the IRI of the post verb, copy the <tt>atom:published</tt> element from the activity
            entry to the <tt>activity:object</tt>
            element.
</li>
</ol>

<p>If the above procedure results in an activity entry that is not
        valid as per this specification or the Atom specification, processors
        MUST treat the result as they would had the invalid entry arrived in a
        real feed rather than having been synthesized.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Activity Feeds</h3>

<p>This specification defines no required extensions to the atom:feed
      element as defined by the Atom specification. Therefore a standard Atom
      feed that contains only activity entries as defined above can be
      considered to be an activity feed. Processors MAY create an activity
      entry representing the implied post activity of an object entry (see
      <a class='info' href='#impliedpost'>Section&nbsp;5.3<span> (</span><span class='info'>Implied Activity</span><span>)</span></a>) in order to synthesize an activity
      feed from a traditional Atom feed.
</p>
<p>A feed MAY contain both activity and object entries.
</p>
<a name="activitysubject"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Feed Subject</h3>

<p>The activity:subject extension element, when used as a child of an
        atom:feed element, gives information about the object that the feed is
        describing. An atom:feed element MUST have zero or one
        activity:subject elements.
</p>
<p>The content model of the activity:subject element is the same as
        that of the activity:object element as described in <a class='info' href='#activityobjectelement'>Section&nbsp;4.5<span> (</span><span class='info'>Activity Object</span><span>)</span></a>.
</p>
<p>When the activity:subject extension element is used, the value of
        its atom:id element can be compared with the corresponding atom:id
        elements in activity:object, activity:actor and activity:target
        entry-level elements to determine which role the feed's actor played
        in an activity. Publishers MAY, when using activity:subject, publish
        activities in which the feed subject is the object or target rather
        than the actor; consumers MUST NOT assume that the subject of an
        activity feed is the actor in all of its constituent activities.
</p>
<p>If no activity:subject element is provided then the feed has no
        subject. Consumers MAY make use of information obtained from another
        source to determine the subject.
</p>
<p>activity:object, activity:target and activity:actor elements which
        share the same id as the feed's activity:subject SHOULD include only
        the atom:id element; consumers MUST use the elements of the
        activity:subject element in place of the elements of the referring
        element. This minimizes duplication of information in a feed that is
        about a single subject.
</p>
<p>activity:subject MAY be used as a child of any element where
        feed-level elements are expected, including atom:source. When used in
        this way, its relationship to the parent element is the same as that
        of other feed-level elements appearing as its sibling elements.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1.1"></a><h3>6.1.1.&nbsp;
Example</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;feed xml:lang="en-US"
      xmlns:activity="http://activitystrea.ms/spec/1.0/"
      xmlns="http://www.w3.org/2005/Atom"&gt;
  &lt;title type="text"&gt;Recent activities from Geraldine at PhotoPanic&lt;/title&gt;
  &lt;id&gt;tag:photopanic.example.com,2009:user/4859568/activities&lt;/id&gt;
  &lt;updated&gt;2009-06-24T03:46:14Z&lt;/updated&gt;
  &lt;author&gt;
    &lt;name&gt;Geraldine&lt;/name&gt;
  &lt;/author&gt;
  &lt;activity:subject&gt;
    &lt;id&gt;tag:photopanic.example.com,2009:/Person/4859568&lt;/id&gt;
    &lt;title&gt;Geraldine&lt;/title&gt;
    &lt;activity:object-type&gt;http://activitystrea.ms/schema/1.0/person&lt;/activity:object-type&gt;
    &lt;link rel="alternate" type="text/html" href="/geraldine" /&gt;
  &lt;/activity:subject&gt;
.
.
.
&lt;/feed&gt;</pre></div>
<p>Example: If we present an atom activity feed which
            contain all of the photos that Geraldine has uploaded to
            PhotoPanic then PhotoPanic may publish a feed that begins as
            illustrated.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
A Note about Legacy Feeds</h3>

<p>This section is non-normative.
</p>
<p>The implied post activity as described in <a class='info' href='#impliedpost'>Section&nbsp;5.3<span> (</span><span class='info'>Implied Activity</span><span>)</span></a>, along with the advice about untyped
        object entries in <a class='info' href='#objectentries'>Section&nbsp;5<span> (</span><span class='info'>Object Entries</span><span>)</span></a>, are together
        intended to provide a mechanism for processing traditional
        non-activity Atom feeds as Activity Feeds. At the time of writing this
        specification, most such feeds serve to describe the activity of
        posting an item such as a weblog entry or a photo.
</p>
<p>It is acknowledged, however, that there exist feeds that have other
        meanings, such as a list of a particular user's "favorite" objects.
        When applying the advice for processing feeds without activity
        extensions to such feeds, a processor will likely misinterpret the
        nature of the activity. In practice, however, it seems that most feeds
        of this kind include something in the title indicating their nature,
        so rendering such a misinterpreted activity to a sentence will lead to
        something such as <em>Joe posted "Funny Cats" in "Joe's Favorite Videos"</em>,
        which, while not ideal, is an acceptable result in situations where
        activities are primarily for human consumption.
</p>
<a name="postverb"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
The 'post' Verb</h3>

<p>This specification defines a single verb, which has the verb
      Identifier IRI <tt>http://activitystrea.ms/schema/1.0/post</tt>.
</p>
<p>This verb describes the act of posting or publishing an object on the
      web. The implication is that before this activity occurred the object
      was not posted, and after the activity has occurred it <em>is</em>
      posted or published.
</p>
<p>This verb is used when creating the Implied post activity for a
      standalone object entry that has no explicit verb. It MAY also be used
      as the value of activity:verb in an explicit activity entry.
</p>
<p>In an activity entry which has the 'post' verb, the value of the
      atom:published element SHOULD be the same as the atom:published element
      in the associated object entry.
</p>
<p>If an activity using this verb has an <tt>activity:target</tt>
      element, the target object is the collection in which the item was
      posted.
</p>
<p>The 'post' verb has no additional properties or modifiers.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Requirements for Activity Re-publishers</h3>

<p>An activity re-publisher is any system that produces feeds that
      contain activities or objects that were obtained from another feed or
      feed-like data source. This section contains requirements for such
      systems that aim to allow consumers of such feeds to process the
      activities described in such feeds in a way similar to how they would
      have processed the activities when obtained directly from the source,
      and to allow consumers to detect duplicate activities or objects
      obtained via multiple feeds.
</p>
<p>An activity re-publisher may choose to produce either object entries
      or Activity Entries, except where the the re-publisher is re-publishing
      an activity entry, in which case the activity entry MUST be produced to
      avoid loss of information that cannot be expressed in an object
      entry.
</p>
<p>Where a re-publisher produces a full activity entry from a source
      object entry, the mapping process described in <a class='info' href='#impliedpost'>Section&nbsp;5.3<span> (</span><span class='info'>Implied Activity</span><span>)</span></a> MUST be used. A re-publisher MAY perform
      additional mapping steps when doing this conversion.
</p>
<p>Where a re-publisher produces a full activity entry from a source RSS
      object entry, the mapping process described in <a class='info' href='#rss'>Section&nbsp;5.4<span> (</span><span class='info'>Object Entries in RSS</span><span>)</span></a> MUST be used. A re-publisher MAY perform additional
      mapping steps when doing this conversion.
</p>
<p>If a source object entry does not contain verb or object type
      information, a re-publisher MAY use information obtained elsewhere to
      synthesize appropriate verb or object type annotations.
</p>
<p>When a re-publisher reproduces a source activity entry, the publisher
      MUST copy the atom:id and atom:published elements from the source
      activity entry without modification, and MUST similarly preserve the
      contents of all elements in the AtomActivity namespace where these
      elements are used correctly as per this specification.
</p>
<p>When a re-publisher reproduces an entry, the atom:source element MUST
      be used in accordance with its definition in the Atom specification. A
      re-publisher SHOULD include as much information as possible from the
      source entry, paying special attention to data that is of significance
      to the object type(s) and/or verb(s) used on the entry where these are
      known to the re-publisher.
</p>
<p>When a re-publisher produces a feed of activities aggregated from
      multiple sources but known via some externally-obtained information to
      be by the same actor, even if that actor is represented by a different
      object in different source feeds, the re-publisher SHOULD create a
      feed-level activity:subject element that describes the re-publisher's
      representation of the actor and then substitute this representation in
      any activity:actor, activity:object or activity:target element known to
      represent the same actor.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>As this specification defines an extension to the Atom Syndication
      Format, it is subject to the same security considerations defined in
      <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>, &ldquo;The Atom Syndication Format,&rdquo; .</span><span>)</span></a>.
</p>
<p>[TODO: Write some more here.]
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>None.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text">&ldquo;RFC 2119.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3339">[RFC3339]</a></td>
<td class="author-text">Klyne, G., &ldquo;Date and Time on the Internet: Timestamps,&rdquo; July&nbsp;2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3987">[RFC3987]</a></td>
<td class="author-text">&ldquo;Internationalized Resource Identifiers (IRIs).&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4287">[RFC4287]</a></td>
<td class="author-text">&ldquo;The Atom Syndication Format.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="RSS_2.0">[RSS_2.0]</a></td>
<td class="author-text">Klyne, G., &ldquo;<a href="http://www.rssboard.org/rss-specification">Date and Time on the Internet: Timestamps</a>,&rdquo; July&nbsp;2002.</td></tr>
</table>

<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgements</h3>

<p>...
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Examples</h3>

<p>This appendix is non-normative. Where these examples include
      fragments of XML documents, assume the namespace declarations <tt>xmlns="http://www.w3.org/2005/Atom" xmlns:activity="http://activitystrea.ms/spec/1.0/"</tt>
      are in scope.
</p>
<a name="activityentryexample"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.1"></a><h3>B.1.&nbsp;
Activity Entry Examples</h3>
<br /><hr class="insert" />
<a name="activityentrysimple"></a>

<p>A typical activity entry
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;entry&gt;
   &lt;id&gt;tag:photopanic.example.com,2008:activity01&lt;/id&gt;
   &lt;title&gt;Geraldine posted a Photo on PhotoPanic&lt;/title&gt;
   &lt;published&gt;2008-11-02T15:29:00Z&lt;/published&gt;
   &lt;link rel="alternate" type="text/html"
         href="/geraldine/activities/1" /&gt;
   &lt;activity:verb&gt;
      http://activitystrea.ms/schema/1.0/post
   &lt;/activity:verb&gt;
   &lt;activity:object&gt;
      &lt;id&gt;tag:photopanic.example.com,2008:photo01&lt;/id&gt;
      &lt;title&gt;My Cat&lt;/title&gt;
      &lt;published&gt;2008-11-02T15:29:00Z&lt;/published&gt;
      &lt;link rel="alternate" type="text/html"
            href="/geraldine/photos/1" /&gt;
      &lt;activity:object-type&gt;
          tag:atomactivity.example.com,2008:photo
      &lt;/activity:object-type&gt;
      &lt;source&gt;
          &lt;title&gt;Geraldine's Photos&lt;/title&gt;
          &lt;link rel="self" type="application/atom+xml"
                href="/geraldine/photofeed.xml" /&gt;
          &lt;link rel="alternate" type="text/html"
                href="/geraldine/" /&gt;
      &lt;/source&gt;
   &lt;/activity:object&gt;
   &lt;content type="html"&gt;
       &amp;lt;p&amp;gt;Geraldine posted a Photo on PhotoPanic&amp;lt;/p&amp;gt;
       &amp;lt;img src="/geraldine/photo1.jpg"&amp;gt;
   &lt;/content&gt;
&lt;/entry&gt;</pre></div>
<p>This example shows a typical activity entry using the
          post verb defined by this specification and a hypothetical "photo"
          object type. It also demonstrates the use of atom:title and
          atom:content to provide fallback content for feed processors that do
          not support activity extensions. An activity stream application
          might render this entry into the sentence "Geraldine posted a photo
          titled 'My Cat' in Geraldine's Photos", with the photo title and the
          source feed title presented as links.
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="activityentrycomplex"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;entry&gt;
    &lt;id&gt;tag:photopanic.example.com,2009:/activity/4859568/PhotoAdd/2519358/2009171&lt;/id&gt;
    &lt;title type="text"&gt;Geraldine added two new photos to the My Pets album.&lt;/title&gt;
    &lt;published&gt;2009-06-21T00:28:35Z&lt;/published&gt;
    &lt;author&gt;
      &lt;name&gt;Geraldine&lt;/name&gt;
      &lt;uri&gt;http://photopanic.example.com/&lt;/uri&gt;
    &lt;/author&gt;
    &lt;link rel="alternate" type="text/html"
          href="/geraldine/activities/1234" /&gt;
    &lt;content type="xhtml"&gt;...&lt;/content&gt;
    &lt;activity:actor&gt;
      &lt;activity:object-type&gt;http://activitystrea.ms/schema/1.0/person&lt;/activity:object-type&gt;
      &lt;id&gt;tag:photopanic.example.com,2009:/Person/4859568&lt;/id&gt;
      &lt;title&gt;Geraldine&lt;/title&gt;
      &lt;link rel="alternate" type="text/html"
            href="/geraldine" /&gt;
    &lt;/activity:actor&gt;
    &lt;activity:target&gt;
      &lt;activity:object-type&gt;http://activitystrea.ms/schema/1.0/photo-album&lt;/activity:object-type&gt;
      &lt;id&gt;tag:photopanic.example.com,2009:/Photo_Album/2519358&lt;/id&gt;
      &lt;title&gt;My Pets&lt;/title&gt;
      &lt;link rel="alternate" type="text/html"
            href="/geraldine/albums/pets" /&gt;
    &lt;/activity:target&gt;
    &lt;activity:object&gt;
      &lt;activity:object-type&gt;http://activitystrea.ms/schema/1.0/photo&lt;/activity:object-type&gt;
      &lt;activity:object-type&gt;http://activitystrea.ms/schema/1.0/image&lt;/activity:object-type&gt;
      &lt;id&gt;tag:photopanic.example.com,2009:/Photo/2519358/60764840&lt;/id&gt;
      &lt;title&gt;My Cat&lt;/title&gt;
      &lt;link rel="alternate" type="text/html"
            href="/geraldine/photos/1643" /&gt;
      &lt;link rel="preview" type="image/jpeg"
            href="/geraldine/photos/1643/thumb.jpg" /&gt;
      &lt;link rel="enclosure" type="image/jpeg"
            href="/geraldine/photos/1643/full.jpg" /&gt;
    &lt;/activity:object&gt;
    &lt;activity:object&gt;
      &lt;activity:object-type&gt;http://activitystrea.ms/schema/1.0/image&lt;/activity:object-type&gt;
      &lt;activity:object-type&gt;http://activitystrea.ms/schema/1.0/photo&lt;/activity:object-type&gt;
      &lt;id&gt;tag:photopanic.example.com,2009:/Photo/2519358/60764844&lt;/id&gt;
      &lt;title&gt;&lt;/title&gt;
      &lt;link rel="alternate" type="text/html"
            href="/geraldine/photos/1634" /&gt;
      &lt;link rel="preview" type="image/jpeg"
            href="/geraldine/photos/1634/thumb.jpg" /&gt;
      &lt;link rel="enclosure" type="image/jpeg"
            href="/geraldine/photos/1634/full.jpg" /&gt;
    &lt;/activity:object&gt;
&lt;/entry&gt;</pre></div>
<p>Example: An activity entry showing the use of the actor,
          verb, object and target elements. Also illustrated is the use of
          multiple objects in a single activity entry, which serves as a
          shorthand for publishing multiple consecutive activities with the
          same verb and target.
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="objectentryexample"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.2"></a><h3>B.2.&nbsp;
Object Entry Example</h3>

<p>A simple object entry
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>&lt;entry&gt;
   &lt;id&gt;tag:photopanic.example.com,2008:photo01&lt;/id&gt;
   &lt;title&gt;My Cat&lt;/title&gt;
   &lt;published&gt;2008-11-02T15:29:00Z&lt;/published&gt;
   &lt;link rel="alternate" type="text/html"
         href="/geraldine/photos/1" /&gt;
   &lt;activity:object-type&gt;
       tag:atomactivity.example.com,2008:photo
   &lt;/activity:object-type&gt;
&lt;/entry&gt;
</pre></div>
<p>This example shows an object entry describing the object
          referred to in the activity from <a class='info' href='#activityentryexample'>Appendix&nbsp;B.1<span> (</span><span class='info'>Activity Entry Examples</span><span>)</span></a>. That example would also be an
          acceptable implied post activity for this entry, assuming that this
          entry were in a feed whose attributes match those of the atom:source
          in the activity entry example.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martin Atkins</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Six Apart</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">David Recordon</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Six Apart</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chris Messina</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Diso Project</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Monica Keller</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">MySpace</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ari Steinberg</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Facebook</td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Rob Dolin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft</td></tr>
</table>
</body></html>
